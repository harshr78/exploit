import * as React from 'react';
import { styled } from '@mui/material/styles';
import ArrowForwardIosSharpIcon from '@mui/icons-material/ArrowForwardIosSharp';
import MuiAccordion from '@mui/material/Accordion';
import MuiAccordionSummary from '@mui/material/AccordionSummary';
import MuiAccordionDetails from '@mui/material/AccordionDetails';
import Typography from '@mui/material/Typography';
import ExpandMoreIcon from '@mui/icons-material/ExpandMore';
import IconButton from '@mui/material/IconButton';



import Box from '@mui/material/Box';
import List from '@mui/material/List';
import ListItem from '@mui/material/ListItem';
import ListItemAvatar from '@mui/material/ListItemAvatar';
import ListItemIcon from '@mui/material/ListItemIcon';
import ListItemText from '@mui/material/ListItemText';
import Avatar from '@mui/material/Avatar';
import FormGroup from '@mui/material/FormGroup';
import FormControlLabel from '@mui/material/FormControlLabel';
import Checkbox from '@mui/material/Checkbox';
import Grid from '@mui/material/Grid';
import FolderIcon from '@mui/icons-material/Folder';
import LockIcon from '@mui/icons-material/Lock';
import InsertDriveFileIcon from '@mui/icons-material/InsertDriveFile';
function generate(element) {
    return [0, 1, 2].map((value) =>
      React.cloneElement(element, {
        key: value,
      }),
    );
  }
  const Demo = styled('div')(({ theme }) => ({
    backgroundColor: theme.palette.background.paper,
  }));
const ExpandMore = styled((props) => {
    const { expand, ...other } = props;
    return <IconButton {...other} />;
})(({ theme, expand }) => ({
    transform: !expand ? 'rotate(0deg)' : 'rotate(180deg)',
    marginLeft: 'auto',
    transition: theme.transitions.create('transform', {
        duration: theme.transitions.duration.shortest,
    }),
}));


const Accordion = styled((props) => (
  <MuiAccordion disableGutters elevation={0} square {...props} />
))(({ theme }) => ({
  border: `1px solid ${theme.palette.divider}`,
  '&:not(:last-child)': {
    borderBottom: 0,
  },
  '&:before': {
    display: 'none',
  },
}));

const AccordionSummary = styled((props) => (
  <MuiAccordionSummary
    expandIcon={<ArrowForwardIosSharpIcon sx={{ fontSize: '0.9rem' }} />}
    {...props}
  />
))(({ theme }) => ({
  backgroundColor:
    theme.palette.mode === 'dark'
      ? 'rgba(255, 255, 255, .05)'
      : 'rgba(0, 0, 0, .03)',
  flexDirection: 'row-reverse',
  '& .MuiAccordionSummary-expandIconWrapper.Mui-expanded': {
    transform: 'rotate(90deg)',
  },
  '& .MuiAccordionSummary-content': {
    marginLeft: theme.spacing(1),
  },
}));

const AccordionDetails = styled(MuiAccordionDetails)(({ theme }) => ({
  padding: theme.spacing(2),
  borderTop: '1px solid rgba(0, 0, 0, .125)',
}));

export default function WorkshopAccordian(props) {
  const [expanded, setExpanded] = React.useState('panel1');
  const [dense, setDense] = React.useState(false);
  const [secondary, setSecondary] = React.useState(false);
 
  const handleChange = (panel) => (event, newExpanded) => {
    setExpanded(newExpanded ? panel : '');
  };

  return (
    <div className="techvanto-course-accordian">
      {props.notLogged?
      <Demo>
      <List dense={dense}>
      {props.data?props.data.map((curriculum,index)=>{
          return <ListItem
          secondaryAction={
            <IconButton edge="end" aria-label="delete">
              <LockIcon />
            </IconButton>
          }
        >
          <ListItemAvatar>
            <Avatar>
            <InsertDriveFileIcon></InsertDriveFileIcon>
            </Avatar>
          </ListItemAvatar>
          <ListItemText
            primary={curriculum.title}
            secondary={secondary ? 'Secondary text' : null}
          />
        </ListItem>
        }):""}
          
        
      </List>
    </Demo>
      :
      props.data?props.data.map((curriculum,index)=>{
        return (
        <Accordion expanded={expanded === index} onChange={handleChange(index)}>
        <AccordionSummary aria-controls={index+"d-content"} id={index+"d-header"}>
                    <Typography className="techvanto-course-accordian-header">{curriculum.title}</Typography>

          <ExpandMore
            expand={expanded === index}
            aria-expanded={expanded === index}
            aria-label="show more"
        >
            <ExpandMoreIcon sx={{ color: "white" }} />
        </ExpandMore>
        </AccordionSummary>
        <AccordionDetails className="techvanto-course-accordian-details">
          <Demo>
            <List dense={dense}>
              {
             curriculum[props.name].map((CurriculumModules,index)=>{
                return <ListItem>
                <ListItemAvatar>
                  <Avatar>
                  <InsertDriveFileIcon></InsertDriveFileIcon>
                  </Avatar>
                </ListItemAvatar>
                <ListItemText
                  primary={CurriculumModules.title}
                  secondary={secondary ? 'Secondary text' : null}
                />
              </ListItem>
              })
                
              }
            </List>
          </Demo>
        </AccordionDetails>
      </Accordion>)
      }):""}
      
    </div>
  );
}
