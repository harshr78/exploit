const db = require("../../Connection/index.models")

let Workshop = db.Workshop;

// Retrieve all data from the database.
exports.findAll = async (condition = null) => {
    return new Promise((resolve, reject) => {
        Workshop.findAll({ where: condition })
            .then(data => {
                resolve(data)
            })
            .catch(err => {
                reject("something went wrong");
            })
    })
};



// Retrieve all data from the database.
exports.findOne = async (condition = null) => {
    return new Promise((resolve, reject) => {
        Workshop.findOne({
            where: condition,
            include: [{
                model: db.Workshop_Curriculum, include: {
                    model: db.Workshop_Curriculum_Module
                }
            }]
        })
            .then(data => {
                resolve(data)
            })
            .catch(err => {
                // reject(err);
                reject("something went wrong");
            })
    })
};

exports.findAllTypesAndTopics = async (condition = null) => {
    return new Promise((resolve, reject) => {
        db.WorkshopType.findAll({ where: condition,
            include:db.WorkshopTopic })
            .then(data => {
                resolve(data)
            })
            .catch(err => {
                reject("something went wrong");
            })
    })
}