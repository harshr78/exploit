const db = require("../../Connection/index.models")

let Webinar = db.Webinar;

// Retrieve all data from the database.
exports.findAll = async (condition = null) => {
    return new Promise((resolve, reject) => {
        Webinar.findAll({ where: condition })
            .then(data => {
                resolve(data)
            })
            .catch(err => {
                reject("something went wrong");
            })
    })
};



// Retrieve all data from the database.
exports.findOne = async (condition = null) => {
    return new Promise((resolve, reject) => {
        Webinar.findOne({
            where: condition,
            include: [{
                model: db.WebinarCurriculum, include: {
                    model: db.WebinarCurriculumModule
                }
            }, {
                model: db.WebinarDetailsAndBenefits
            }]
        })
            .then(data => {
                resolve(data)
            })
            .catch(err => {
                // reject(err);
                reject("something went wrong");
            })
    })
};

exports.findAllTopics = async (condition = null) => {
    return new Promise((resolve, reject) => {
        db.WebinarTopic.findAll({ where: condition })
            .then(data => {
                resolve(data)
            })
            .catch(err => {
                reject("something went wrong");
            })
    })
}