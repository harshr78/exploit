// const routes = require(__dirname+"/core/routes/routes.js")

const dbConfig = require("../../utils/config/db.config");
const Sequelize = require("sequelize");



const sequelize = new Sequelize(dbConfig.DB, dbConfig.USER, dbConfig.PASSWORD, {
    host: dbConfig.HOST,
    dialect: dbConfig.DIALECT,
    port: dbConfig.PORT,
    pool: {
      max: dbConfig.pool.max,
      min: dbConfig.pool.min,
      acquire: dbConfig.pool.acquire,
      idle: dbConfig.pool.idle
    }
  });
// const sequelize = new Sequelize({
//   dialect: dbConfig.DIALECT,
//   storage: dbConfig.STORAGE
// })
const db = {};
db.User = require("../Users/models/Users.models")(sequelize,Sequelize);
db.sectiontype = require("../Courses/models/SectionType.models")(sequelize,Sequelize);
db.sectioncategory = require("../Courses/models/SectionCategory.models")(sequelize,Sequelize);
db.sectionsubcategory = require("../Courses/models/SectionSubCategory.models")(sequelize,Sequelize);
db.service = require("../Courses/models/Service.models")(sequelize,Sequelize);
db.curriculum = require("../Courses/models/Curriculum.models")(sequelize,Sequelize);
db.curriculumModule = require("../Courses/models/CurriculumModule.models")(sequelize,Sequelize);
db.curriculumSubModule = require("../Courses/models/CurriculumSubModule.models")(sequelize,Sequelize);
db.Review = require("../Courses/models/Review.models")(sequelize,Sequelize);
db.Instructor = require("../Courses/models/Insurtuctor.models")(sequelize,Sequelize);


db.Workshop = require("../Services/models/Workshop/Workshop.models")(sequelize,Sequelize);
db.WorkshopType = require("../Services/models/Workshop/WorkshopTypes.models")(sequelize,Sequelize);
db.WorkshopTopic = require("../Services/models/Workshop/WorkshopTopics.models")(sequelize,Sequelize);

db.Workshop_Curriculum = require("../Services/models/Workshop/WorkshopCurriculum.models")(sequelize,Sequelize);
db.Workshop_Curriculum_Module = require("../Services/models/Workshop/WorkshopCurriculumModule.models")(sequelize,Sequelize);

db.Webinar = require("../Services/models/Webinar/Webinar.models")(sequelize,Sequelize);
db.WebinarDetailsAndBenefits = require("../Services/models/Webinar/WebinarDetailsAndBenifits.models")(sequelize,Sequelize);
db.WebinarTopic = require("../Services/models/Webinar/WebinarTopics.models")(sequelize,Sequelize);
db.WebinarCurriculum = require("../Services/models/Webinar/WebinarCurriculum.models")(sequelize,Sequelize);
db.WebinarCurriculumModule = require("../Services/models/Webinar/WebinarCurriculumModule.models")(sequelize,Sequelize);

db.ClassProject = require("../Services/models/ClassProject/ClassProject.models")(sequelize,Sequelize);
db.Sequelize = Sequelize;
db.sequelize = sequelize;

Object.keys(db).forEach(ModelName=>{
  if(db[ModelName].associate){
    db[ModelName].associate(db);
  }
}
)


module.exports = db;