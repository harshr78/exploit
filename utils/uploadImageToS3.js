const fs = require('fs');
const s3 = require('./config/s3.config');
async function   upload(params){
    var location='';
    location = await s3.upload(params, function(s3Err, data) {
        if (s3Err) throw s3Err
    }).promise();
    return location;
}


module.exports =   async(fileName,path) => {
    const fileContent = fs.readFileSync(fileName);
    const params = {
        Bucket: 'techvanto', 
        Key: path, 
        Body: fileContent,
        ACL: 'public-read',
        ContentType: 'image/svg+xml'
    };
    var location = await upload(params);
    return location.Location;
            
};
  